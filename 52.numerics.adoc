== æ•°å€¼

=== Int

`Int` ç±»å‹æä¾›ä»»æ„å¤§å°çš„æ•´æ•°ã€‚å®ƒä»¬å¯ä»¥åƒè®¡ç®—æœºå†…å­˜å…è®¸çš„é‚£æ ·å¤§ï¼Œè™½ç„¶æœ‰äº›å®ç°åœ¨è¢«è¦æ±‚ç”ŸæˆçœŸæ­£æƒŠäººå¤§å°çš„æ•´æ•°æ—¶ä¼šé€‰æ‹©æŠ›å‡ºæ•°å­—æº¢å‡ºé”™è¯¯ï¼š

```raku
say 10**600**600
# OUTPUT: Â«Numeric overflowÂ» 
```

ä¸æŸäº›è¯­è¨€ä¸åŒï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯ link:https://docs.raku.org/type/Int[Int] ç±»å‹æ—¶ï¼Œä½¿ç”¨link:https://docs.raku.org/routine/$SOLIDUS[`/`è¿ç®—ç¬¦]æ‰§è¡Œé™¤æ³•å°†ç”Ÿæˆå°æ•°ï¼Œè€Œä¸æ‰§è¡Œä»»ä½•èˆå…¥ã€‚

```raku
say 4/5; # OUTPUT: Â«0.8Â» 
```

è¿™ç§é™¤æ³•äº§ç”Ÿçš„ç±»å‹æ˜¯ link:https://docs.raku.org/type/Rat[Rat] æˆ– link:https://docs.raku.org/type/Num[Num] ç±»å‹ã€‚æ¢ç®—åï¼Œå¦‚æœåˆ†æ•°çš„åˆ†æ¯æ˜¯å°äº64ä½ï¼Œåˆ™äº§ç”Ÿ link:https://docs.raku.org/type/Rat[Rat], å¦åˆ™äº§ç”Ÿ link:https://docs.raku.org/type/Num[Num] ç±»å‹ã€‚

å¦‚æœä½ æƒ³è½å¾— link:https://docs.raku.org/type/Int[Int] çš„ç»“æœï¼Œé‚£ä¹ˆ link:https://docs.raku.org/routine/div[div] å’Œ link:https://docs.raku.org/routine/narrow[narrow] ä¾‹ç¨‹å¯èƒ½ä¼šæœ‰å¸®åŠ©ï¼Œåªè¦æœ‰å¯èƒ½ã€‚link:https://docs.raku.org/routine/div[div]è¿ç®—ç¬¦æ‰§è¡Œæ•´é™¤ï¼Œä¸¢å¼ƒä½™æ•°ï¼Œè€Œlink:https://docs.raku.org/routine/narrow[narrow] ä¼šæŠŠæ•°æ‹Ÿåˆåˆ°å®ƒé€‚åˆçš„æœ€çª„ç±»å‹ï¼š

```raku
say 5 div 2; # OUTPUT: Â«2Â» 
 
# Result `2` is narrow enough to be an Int: 
say (4/2).narrow; # OUTPUT: Â«2Â» 
say (4/2).narrow.^name; # OUTPUT: Â«IntÂ» 
 
# But 2.5 has fractional part, so it ends up being a Rat type: 
say (5/2).narrow.^name; # OUTPUT: Â«RatÂ» 
say (5/2).narrow;       # OUTPUT: Â«2.5Â» 
 
# Denominator is too big for a Rat, so a Num is produced: 
say 1 / 10â¹â¹; # OUTPUT: Â«1e-99Â» 
```

Raku å…·æœ‰ link:https://docs.raku.org/type/FatRat[FatRat] ç±»å‹ï¼Œå¯æä¾›ä»»æ„ç²¾åº¦çš„åˆ†æ•°ã€‚ä¸ºä»€ä¹ˆåœ¨ä¸Šä¸€ä¸ªä¾‹å­ä¸­ç”Ÿæˆäº†æœ‰é™ç²¾åº¦çš„ link:https://docs.raku.org/type/Num[Num] è€Œä¸æ˜¯ link:https://docs.raku.org/type/FatRat[FatRat] ç±»å‹ï¼ŸåŸå› æ˜¯ï¼šæ€§èƒ½ã€‚å¤§å¤šæ•°æ“ä½œéƒ½å¾ˆå¥½ï¼Œç²¾åº¦æŸå¤±å¾ˆå°‘ï¼Œå› æ­¤ä¸éœ€è¦ä½¿ç”¨æ›´æ˜‚è´µçš„ link:https://docs.raku.org/type/FatRat[FatRat] ç±»å‹ã€‚å¦‚æœæ‚¨å¸Œæœ›è·å¾—é¢å¤–çš„ç²¾åº¦ï¼Œåˆ™éœ€è¦è‡ªå·±å®ä¾‹åŒ–ä¸€ä¸ªã€‚

=== `Num`

link:https://docs.raku.org/type/Num[Num] ç±»å‹æä¾› link:https://en.wikipedia.org/wiki/Double-precision_floating-point_format[åŒç²¾åº¦æµ®ç‚¹]åè¿›åˆ¶æ•°ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­æœ‰æ—¶è¢«ç§°ä¸ºâ€œdoublesâ€ã€‚

link:https://docs.raku.org/type/Num[Num] å­—é¢é‡çš„å†™æ³•æ˜¯ä½¿ç”¨å­—æ¯ `e` ä¸æŒ‡æ•°åˆ†å‰²å¼€ã€‚è¯·è®°ä½ï¼Œå³ä½¿æŒ‡æ•°ä¸ºé›¶ï¼Œå­—æ¯`e` **ä¹Ÿæ˜¯å¿…éœ€çš„**ï¼Œå¦åˆ™æ‚¨å°†å¾—åˆ°ä¸€ä¸ªlink:https://docs.raku.org/type/Rat[Rat] æœ‰ç†æ•°å­—é¢é‡ï¼š

```raku
say 42e0.^name; # OUTPUT: Â«NumÂ» 
say 42.0.^name; # OUTPUT: Â«RatÂ» 
```

åŒºåˆ†å¤§å°å†™çš„å•è¯ link:https://docs.raku.org/type/Num#Inf[Inf] å’Œ link:https://docs.raku.org/type/Num#NaN[NaN] åˆ†åˆ«è¡¨ç¤ºç‰¹æ®Šå€¼ infinity å’Œ not-a-numberã€‚å¯ä»¥ä½¿ç”¨ U+221E INFINITYï¼ˆ`âˆ`ï¼‰å­—ç¬¦ä»£æ›¿ link:https://docs.raku.org/type/Num#Inf[Inf]ï¼š

Raku  å°½å¯èƒ½éµå¾ªlink:https://en.wikipedia.org/wiki/IEEE_754[IEEE 754-2008æµ®ç‚¹è¿ç®—æ ‡å‡†ï¼Œ]è®¡åˆ’åœ¨ä»¥åçš„è¯­è¨€ç‰ˆæœ¬ä¸­å®ç°æ›´å¤šçš„ä¸€è‡´æ€§ã€‚è¯¥è¯­è¨€ä¿è¯ä¸ºä»»ä½•ç»™å®šçš„ link:https://docs.raku.org/type/Num[Num] å­—é¢é‡é€‰æ‹©æœ€æ¥è¿‘çš„å¯è¡¨ç¤ºæ•°å­—ï¼Œå¹¶ä¸”ç¡®å®æ”¯æŒè´Ÿé›¶å’Œlink:https://en.wikipedia.org/wiki/Denormal_number[éæ­£è§„]ï¼ˆä¹Ÿç§°ä¸ºâ€œæ¬¡æ­£è§„â€ï¼‰ã€‚

è¯·è®°ä½ï¼Œåƒ link:https://docs.raku.org/routine/say[say] æˆ– link:https://docs.raku.org/routine/put[put] è¿™æ ·çš„è¾“å‡ºä¾‹ç¨‹ä¸ä¼šéå¸¸éš¾ä»¥åŒºåˆ†è¾“å‡ºlink:https://docs.raku.org/type/Numeric[æ•°å­—]ç±»å‹çš„æ–¹å¼ï¼Œå¹¶ä¸”å¯èƒ½é€‰æ‹©å°†link:https://docs.raku.org/type/Num[Num]æ˜¾ç¤ºä¸ºlink:https://docs.raku.org/type/Int[Int]æˆ–link:https://docs.raku.org/type/Rat[Rat]æ•°å­—ã€‚è¦è·å¾—æ›´æ˜ç¡®çš„è¾“å‡ºå­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨link:https://docs.raku.org/routine/perl[perl]æ–¹æ³•ï¼š

```raku
say  1e0;      # OUTPUT: Â«1Â» 
say .5e0;      # OUTPUT: Â«0.5Â» 
say  1e0.perl; # OUTPUT: Â«1e0Â» 
say .5e0.perl; # OUTPUT: Â«0.5e0Â» 
```

=== `Complex`

link:https://en.wikipedia.org/wiki/Complex_plane[å¤å¹³é¢]çš„link:https://docs.raku.org/type/Complex[å¤æ•°]å‹æ•°å€¼ã€‚link:https://docs.raku.org/type/Complex[å¤æ•°]å¯¹è±¡åŒ…æ‹¬ä¸¤ä¸ª link:https://docs.raku.org/type/Num[Num] å¯¹è±¡ä»¥è¡¨ç¤ºå¤æ•°çš„link:https://docs.raku.org/routine/re[å®éƒ¨]å’Œlink:https://docs.raku.org/routine/im[è™šéƒ¨]ã€‚

è¦åˆ›å»ºlink:https://docs.raku.org/type/Complex[å¤æ•°]ï¼Œå¯ä»¥åœ¨ä»»ä½•å…¶ä»–éå¤æ•°ä¸Šä½¿ç”¨link:https://docs.raku.org/routine/i[åç¼€`i`è¿ç®—ç¬¦]ï¼Œå¯é€‰æ‹©ä½¿ç”¨åŠ æ³•è®¾ç½®å®éƒ¨ã€‚è¦ä½¿ç”¨`i`è¿ç®—ç¬¦ä½œç”¨åœ¨ `NaN` æˆ– `Inf` å­—é¢é‡ä¸Šï¼Œè¯·ä½¿ç”¨åæ–œæ å°†å…¶ä¸å®ƒä»¬åˆ†å¼€ã€‚

```raku
say 42i;      # OUTPUT: Â«0+42iÂ» 
say 73+42i;   # OUTPUT: Â«73+42iÂ» 
say 73+Inf\i; # OUTPUT: Â«73+Inf\iÂ» 
```

è¯·è®°ä½ï¼Œä¸Šé¢çš„è¯­æ³•åªæ˜¯ä¸€ä¸ªé™„åŠ è¡¨è¾¾å¼å’Œä¼˜å…ˆçº§è§„åˆ™é€‚ç”¨ã€‚å®ƒä¹Ÿä¸èƒ½ç”¨äºç¦æ­¢è¡¨è¾¾å¼çš„åœ°æ–¹ï¼Œä¾‹å¦‚å¸¸è§„å‚æ•°ä¸­çš„å­—é¢é‡ã€‚

```raku
# Precedence of `*` is higher than that of `+` 
say 2 * 73+10i; # OUTPUT: Â«146+10iÂ» 
```

ä¸ºäº†é¿å…è¿™äº›é—®é¢˜ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨link:https://docs.raku.org/type/Complex[å¤æ•°]å­—é¢é‡è¯­æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬ä½¿ç”¨å°–æ‹¬å·åŒ…å›´å®éƒ¨å’Œè™šéƒ¨ï¼Œ*è€Œä¸åŒ…å«ä»»ä½•ç©ºæ ¼*ï¼š

```raku
say 2 * <73+10i>; # OUTPUT: Â«146+20iÂ» 
 
multi how-is-it (<2+4i>) { say "that's my favorite number!" }
multi how-is-it (|)      { say "meh"                        }
how-is-it 2+4i;  # OUTPUT: Â«that's my favorite number!Â» 
how-is-it 3+2i;  # OUTPUT: Â«mehÂ» 
```

=== `Rational`

æ‰§è¡Œ link:https://docs.raku.org/type/Rational[Rational] è§’è‰²çš„ç±»å‹æä¾›é«˜ç²¾åº¦å’Œä»»æ„ç²¾åº¦çš„åè¿›åˆ¶æ•°ã€‚ç”±äºç²¾åº¦è¶Šé«˜ï¼Œæ€§èƒ½æŸå¤±è¶Šå¤§ï¼Œlink:https://docs.raku.org/type/Rational[Rational] ç±»å‹æœ‰ä¸¤ç§å½¢å¼ï¼šlink:https://docs.raku.org/type/Rat[Rat] å’Œ link:https://docs.raku.org/type/FatRat[FatRat]ã€‚link:https://docs.raku.org/type/Rat[Rat] æ˜¯æœ€å¸¸ç”¨çš„å˜ä½“, å…¶åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹é™çº§æˆ link:https://docs.raku.org/type/Num[Num]ï¼Œå½“å®ƒä¸å†èƒ½å®¹çº³æ‰€æœ‰çš„è¦æ±‚ç²¾åº¦æ—¶ã€‚link:https://docs.raku.org/type/FatRat[FatRat] æ˜¯ä¿æŒå¢é•¿æä¾›æ‰€æœ‰æ‰€éœ€çš„ç²¾åº¦ä»»æ„ç²¾åº¦çš„å˜ä½“ã€‚

==== `Rat`

æœ€å¸¸è§çš„ link:https://docs.raku.org/type/Rational[Rational] ç±»å‹ã€‚å®ƒæ”¯æŒæœ‰ 64 ä½åˆ†æ¯çš„æœ‰ç†æ•°ï¼ˆåœ¨å°†åˆ†æ•°æ¢ç®—åˆ°æœ€å°åˆ†æ¯ä¹‹åï¼‰ã€‚`Rat` å¯ä»¥ç›´æ¥åˆ›å»ºå…·æœ‰è¾ƒå¤§åˆ†æ¯çš„å¯¹è±¡ï¼Œä½†æ˜¯ï¼Œå½“å…·æœ‰è¿™æ ·çš„åˆ†æ¯çš„ `Rat` æ˜¯æ•°å­¦è¿ç®—çš„ç»“æœæ—¶ï¼Œå®ƒä»¬ä¼šé™çº§ä¸º link:https://docs.raku.org/type/Num[Num] å¯¹è±¡ã€‚

åœ¨è®¸å¤šå…¶ä»–è¯­è¨€ä¸­ link:https://docs.raku.org/type/Rat[Rat] å­—é¢é‡ä½¿ç”¨å’Œ link:https://docs.raku.org/type/Num[Num] å­—é¢é‡ç±»ä¼¼çš„è¯­æ³•ï¼Œä½¿ç”¨ç‚¹æ¥è¡¨ç¤ºæ•°å­—æ˜¯åè¿›åˆ¶ï¼š

```raku
say .1 + .2 == .3; # OUTPUT: Â«TrueÂ» 
```

å¦‚æœä½ åœ¨è®¸å¤šå¸¸ç”¨è¯­è¨€ä¸­æ‰§è¡Œä¸ä¸Šè¿°ç±»ä¼¼çš„è¯­å¥, ç”±äºæµ®ç‚¹æ•°å­¦çš„ç²¾åº¦ï¼Œæ‚¨å°†å¾—åˆ° `False` ä½œä¸ºç­”æ¡ˆã€‚è¦åœ¨ Raku ä¸­è·å¾—ç›¸åŒçš„ç»“æœï¼Œä½ å¿…é¡»ä½¿ç”¨ link:https://docs.raku.org/type/Num[Num] å­—é¢é‡ï¼š

```raku
say .1e0 + .2e0 == .3e0; # OUTPUT: Â«FalseÂ» 
```

You can also use link:https://docs.raku.org/routine/$SOLIDUS[`/` division operator] with link:https://docs.raku.org/type/Int[Int] or link:https://docs.raku.org/type/Rat[Rat] objects to produce a link:https://docs.raku.org/type/Rat[Rat]:

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å…·æœ‰ link:https://docs.raku.org/type/Int[Int] æˆ– link:https://docs.raku.org/type/Rat[Rat] å¯¹è±¡çš„link:https://docs.raku.org/routine/$SOLIDUS[`/`é™¤æ³•è¿ç®—ç¬¦]æ¥ç”Ÿæˆ link:https://docs.raku.org/type/Rat[Rat]ï¼š

```raku
say 3/4;     # OUTPUT: Â«0.75Â» 
say 3/4.2;   # OUTPUT: Â«0.714286Â» 
say 1.1/4.2; # OUTPUT: Â«0.261905Â» 
```

Keep in mind the above syntax is just a division expression and precedence rules apply. It also cannot be used in places that forbid expressions, such as literals in routine parameters.

è¯·è®°ä½ï¼Œä¸Šé¢çš„è¯­æ³•åªæ˜¯ä¸€ä¸ªåº”ç”¨äº†ä¼˜å…ˆçº§è§„åˆ™çš„é™¤æ³•è¡¨è¾¾å¼ã€‚å®ƒä¹Ÿä¸èƒ½ç”¨äºç¦æ­¢è¡¨è¾¾å¼çš„åœ°æ–¹ï¼Œä¾‹å¦‚ä¾‹ç¨‹å‚æ•°ä¸­çš„å­—é¢é‡ã€‚

```raku
# Precedence of power operators is higher than division 
say 3/2Â²; # OUTPUT: Â«0.75Â» 
```

ä¸ºäº†é¿å…è¿™äº›é—®é¢˜ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨ link:https://docs.raku.org/type/Rational[Rational] å­—é¢é‡è¯­æ³•ï¼Œå®ƒç”¨å°–æ‹¬å·æ‹¬èµ·åˆ†å­å’Œåˆ†æ¯ï¼Œ*ä¸å¸¦ä»»ä½•ç©ºæ ¼*ï¼š

```raku
say <3/2>Â²; # OUTPUT: Â«2.25Â» 
 
multi how-is-it (<3/2>) { say "that's my favorite number!" }
multi how-is-it (|)     { say "meh"                        }
how-is-it 3/2;  # OUTPUT: Â«that's my favorite number!Â» 
how-is-it 1/3;  # OUTPUT: Â«mehÂ» 
```

æœ€åï¼Œä»»ä½•å…·æœ‰ `No` å±æ€§çš„è¡¨ç¤ºå°æ•°çš„ Unicode å­—ç¬¦éƒ½å¯ä»¥ç”¨ä½œlink:https://docs.raku.org/type/Rat[Rat] å­—é¢é‡ï¼š

```raku
say Â½ + â…“ + â… + â…™; # OUTPUT: Â«1.625Â» 
```

===== åˆ†è§£ä¸º `Num`

If a *mathematical operation* that produces a link:https://docs.raku.org/type/Rat[Rat] answer would produce a link:https://docs.raku.org/type/Rat[Rat] with denominator larger than 64 bits, that operation would instead return a link:https://docs.raku.org/type/Num[Num] object. When *constructing* a link:https://docs.raku.org/type/Rat[Rat] (i.e. when it is not a result of some mathematical expression), however, a larger denominator can be used:

å¦‚æœäº§ç”Ÿ link:https://docs.raku.org/type/Rat[Rat] ç­”æ¡ˆçš„*æ•°å­¦è¿ç®—*ä¼šäº§ç”Ÿåˆ†æ¯å¤§äº64ä½çš„ link:https://docs.raku.org/type/Rat[Rat]ï¼Œåˆ™è¯¥æ“ä½œå°†è¿”å› link:https://docs.raku.org/type/Num[Num] å¯¹è±¡ã€‚å½“*æ„å»º*ä¸€ä¸ªlink:https://docs.raku.org/type/Rat[Rat]ï¼ˆå³ï¼Œå½“å®ƒä¸æ˜¯ä¸€äº›æ•°å­¦è¡¨è¾¾å¼çš„ç»“æœï¼‰æ—¶ï¼Œä½†æ˜¯ï¼Œæ›´å¤§çš„åˆ†æ¯å¯ä»¥ä½¿ç”¨ï¼š

```raku
my $a = 1 / (2â¶â´ - 1);
say $a;                   # OUTPUT: Â«0.000000000000000000054Â» 
say $a.^name;             # OUTPUT: Â«RatÂ» 
say $a.nude;              # OUTPUT: Â«(1 18446744073709551615)Â» 
 
my $b = 1 / 2â¶â´;
say $b;                   # OUTPUT: Â«5.421010862427522e-20Â» 
say $b.^name;             # OUTPUT: Â«NumÂ» 
 
my $c = Rat.new(1, 2â¶â´);
say $c;                   # OUTPUT: Â«0.000000000000000000054Â» 
say $c.^name;             # OUTPUT: Â«RatÂ» 
say $c.nude;              # OUTPUT: Â«(1 18446744073709551616)Â» 
say $c.Num;               # OUTPUT: Â«5.421010862427522e-20Â» 
```

==== `FatRat`

æœ€åä¸€ä¸ª link:https://docs.raku.org/type/Rational[Rational] ç±»å‹ - link:https://docs.raku.org/type/FatRat[FatRat] - ä¿ç•™ä½ æ‰€è¦æ±‚çš„æ‰€æœ‰ç²¾åº¦ï¼Œå°†åˆ†å­å’Œåˆ†æ¯å­˜å‚¨ä¸ºä¸¤ä¸ª link:https://docs.raku.org/type/Int[Int] å¯¹è±¡ã€‚link:https://docs.raku.org/type/FatRat[FatRat] æ¯” link:https://docs.raku.org/type/Rat[Rat] æ›´å…·ä¼ æŸ“æ€§ï¼Œæœ‰è¿™ä¹ˆå¤šçš„ link:https://docs.raku.org/type/FatRat[FatRat] æ•°å­¦è¿ç®—ä¼šäº§ç”Ÿå¦ä¸€ä¸ª link:https://docs.raku.org/type/FatRat[FatRat]ï¼Œä¿ç•™æ‰€æœ‰å¯ç”¨çš„ç²¾åº¦ã€‚å½“ link:https://docs.raku.org/type/Rat[Rat] é€€åŒ–ä¸º link:https://docs.raku.org/type/Num[Num] æ—¶ï¼Œä½¿ç”¨ link:https://docs.raku.org/type/FatRat[FatRat ] çš„æ•°å­¦è¿ç®—ä¼šæŒç»­ä¸æ–­ï¼š

```raku
say ((42 + Rat.new(1,2))/999999999999999999).^name;         # OUTPUT: Â«RatÂ» 
say ((42 + Rat.new(1,2))/9999999999999999999).^name;        # OUTPUT: Â«NumÂ» 
say ((42 + FatRat.new(1,2))/999999999999999999).^name;      # OUTPUT: Â«FatRatÂ» 
say ((42 + FatRat.new(1,2))/99999999999999999999999).^name; # OUTPUT: Â«FatRatÂ» 
```

æ²¡æœ‰ç‰¹æ®Šçš„è¿ç®—ç¬¦æˆ–è¯­æ³•å¯ç”¨äºæ„é€  link:https://docs.raku.org/type/FatRat[FatRat] å¯¹è±¡ã€‚åªéœ€ä½¿ç”¨ link:https://docs.raku.org/type/FatRat#%28Rational%29_method_new[`FatRat.new`] æ–¹æ³•ï¼Œå°†åˆ†å­ä½œä¸ºç¬¬ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå°†åˆ†æ¯ä½œä¸ºç¬¬äºŒä¸ªä½ç½®å‚æ•°ã€‚

å¦‚æœæ‚¨çš„ç¨‹åºéœ€è¦å¤§é‡çš„ link:https://docs.raku.org/type/FatRat[FatRat] åˆ›å»ºï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰è¿ç®—ç¬¦ï¼š

```raku
sub infix:<ğŸ™¼> { FatRat.new: $^a, $^b }
say (1ğŸ™¼3).perl; # OUTPUT: Â«FatRat.new(1, 3)Â» 
```

==== æ‰“å° rationals

è¯·è®°ä½ï¼Œåƒ link:https://docs.raku.org/routine/say[say] æˆ– link:https://docs.raku.org/routine/put[put] è¿™æ ·çš„è¾“å‡ºä¾‹ç¨‹ä¸ä¼šåŠ›å›¾åŒºåˆ†link:https://docs.raku.org/type/Numeric[æ•°å­—]ç±»å‹å¦‚ä½•è¾“å‡ºï¼Œå¹¶ä¸”å¯èƒ½é€‰æ‹©å°† link:https://docs.raku.org/type/Num[Num] æ˜¾ç¤ºä¸º link:https://docs.raku.org/type/Int[Int] æˆ– link:https://docs.raku.org/type/Rat[Rat] æ•°å­—ã€‚è¦è·å¾—æ›´æ˜ç¡®çš„è¾“å‡ºå­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨ link:https://docs.raku.org/routine/perl[perl] æ–¹æ³•ï¼š

```raku
say 1.0;        # OUTPUT: Â«1Â» 
say â…“;          # OUTPUT: Â«0.333333Â» 
say 1.0.perl;   # OUTPUT: Â«1.0Â» 
say â…“.perl;     # OUTPUT: Â«<1/3>Â» 
```

æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œæ‚¨å¯ä»¥é€‰æ‹©åœ¨ link:https://docs.raku.org/routine/nude[nude] ä¸­æŸ¥çœ‹ link:https://docs.raku.org/type/Rational[Rational] å¯¹è±¡ï¼Œæ˜¾ç¤ºå…¶åˆ†å­å’Œåˆ†æ¯ï¼š

```raku
say â…“;          # OUTPUT: Â«0.333333Â» 
say 4/2;        # OUTPUT: Â«2Â» 
say â…“.perl;     # OUTPUT: Â«<1/3>Â» 
say <4/2>.nude; # OUTPUT: Â«(2 1)Â» 
```

=== é™¤é›¶

åœ¨è®¸å¤šè¯­è¨€ä¸­ï¼Œé™¤ä»¥é›¶ç«‹é©¬ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚åœ¨ Raku ä¸­ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå–å†³äºä½ è¦é™¤çš„ä¸œè¥¿ä»¥åŠä½ å¦‚ä½•ä½¿ç”¨ç»“æœã€‚

Raku éµå¾ª link:https://en.wikipedia.org/wiki/IEEE_754[IEEE 754-2008æµ®ç‚¹è¿ç®—æ ‡å‡†]ï¼Œä½†ç”±äºå†å²åŸå› ï¼Œ6.c å’Œ 6.d è¯­è¨€ç‰ˆæœ¬ä¸å®Œå…¨ç¬¦åˆã€‚link:https://docs.raku.org/type/Num[Num]è¢«é›¶é™¤äº§ç”Ÿ link:https://docs.raku.org/type/Failure[Failure]ï¼Œè€Œlink:https://docs.raku.org/type/Complex[å¤æ•°]è¢«é›¶é™¤äº§ç”Ÿ `NaN` éƒ¨ä»¶, æ— è®ºåˆ†å­æ˜¯ä»€ä¹ˆã€‚

ä» 6.e è¯­è¨€å¼€å§‹ï¼Œlink:https://docs.raku.org/type/Num[Num] å’Œ link:https://docs.raku.org/type/Complex[Complex] é™¤ä»¥é›¶å°†äº§ç”Ÿlink:https://docs.raku.org/type/Num#Inf[-Inf]ï¼Œ`+Inf` æˆ– link:https://docs.raku.org/type/Num#NaN[NaN], è¿™å–å†³äºåˆ†å­åˆ†åˆ«æ˜¯è´Ÿæ•°ï¼Œæ­£æ•°è¿˜æ˜¯é›¶ï¼ˆå¯¹äºlink:https://docs.raku.org/type/Complex[å¤æ•°]ï¼Œå®éƒ¨å’Œè™šéƒ¨æ˜¯ link:https://docs.raku.org/type/Num[Num] å¹¶ä¸”è¢«åˆ†åˆ«è€ƒè™‘ï¼‰ã€‚

link:https://docs.raku.org/type/Int[Int] æ•°å­—çš„é™¤æ³•äº§ç”Ÿä¸€ä¸ª link:https://docs.raku.org/type/Rat[Rat] å¯¹è±¡ï¼ˆæˆ– link:https://docs.raku.org/type/Num[Num]ï¼Œå¦‚æœåœ¨æ¢ç®—ä¹‹ååˆ†æ¯å¤§äº64ä½ï¼Œå½“ä½ é™¤ä»¥é›¶æ—¶å°±ä¸æ˜¯è¿™ç§æƒ…å†µï¼‰ã€‚è¿™æ„å‘³ç€è¿™ç§é™¤æ³•æ°¸è¿œä¸ä¼šäº§ç”Ÿlink:https://docs.raku.org/type/Exception[å¼‚å¸¸]æˆ–link:https://docs.raku.org/type/Failure[å¤±è´¥]ã€‚ç»“æœæ˜¯é›¶åˆ†æ¯æœ‰ç†æ•°ï¼Œè¿™å¯èƒ½æ˜¯çˆ†ç‚¸æ€§çš„ã€‚

==== Zero-denominator rationals

link:https://docs.raku.org/type/FatRat[é›¶åˆ†æ¯] æœ‰ç†æ•°æ˜¯ä¸€ä¸ªæ‰®æ¼” link:https://docs.raku.org/type/Rational[Rational] è§’è‰²çš„æ•°å­—ï¼Œå®ƒåœ¨æ ¸å¿ƒæ•°å­—ä¸­å°†æ˜¯ link:https://docs.raku.org/type/Rat[Rat] å’Œ link:https://docs.raku.org/type/FatRat[FatRat] å¯¹è±¡ï¼Œå…¶åˆ†æ¯ä¸ºé›¶ã€‚è¿™æ ·æ ¹æ®åŸå§‹åˆ†å­æ˜¯å¦ä¸ºè´Ÿï¼Œåˆ†åˆ«ä¸ºé›¶æˆ–æ­£æ•°, æœ‰ç†æ•°çš„åˆ†å­è¢«å½’ä¸€åŒ–åˆ°`-1`ï¼Œ`0`æˆ–`1`ã€‚

å¯ä»¥åœ¨ä¸éœ€è¦å®é™…é™¤æ³•çš„æƒ…å†µä¸‹æ‰§è¡Œçš„æ“ä½œæ˜¯éçˆ†ç‚¸æ€§çš„ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å•ç‹¬æ£€æŸ¥ link:https://docs.raku.org/routine/nude[nude] ä¸­çš„link:https://docs.raku.org/routine/numerator[åˆ†å­]å’Œlink:https://docs.raku.org/routine/denominator[åˆ†æ¯]ï¼Œæˆ–æ‰§è¡Œæ•°å­¦è¿ç®—ï¼Œè€Œä¸ä¼šå‡ºç°ä»»ä½•å¼‚å¸¸æˆ–å¤±è´¥ã€‚

è½¬æ¢é›¶åˆ†æ¯æœ‰ç†æ•°åˆ° link:https://docs.raku.org/type/Num[Num] éµå¾ª link:https://en.wikipedia.org/wiki/IEEE_754[IEEE] å…¬çº¦ï¼Œç»“æœæ˜¯`-Inf`ï¼Œ`Inf`ï¼Œæˆ– `NaN`ï¼Œè¿™å–å†³äºåˆ†å­æ˜¯å¦åˆ†åˆ«æ˜¯è´Ÿï¼Œæ­£ï¼Œæˆ–é›¶ã€‚ä»å¦ä¸€ä¸ªæ–¹é¢æ¥çœ‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼šè½¬æ¢`Â±Inf`/ `NaN`åˆ°å…¶ä¸­ä¸€ä¸ª link:https://docs.raku.org/type/Rational[Rational] ç±»å‹å°†äº§ç”Ÿå…·æœ‰é€‚å½“åˆ†å­çš„é›¶åˆ†æ¯æœ‰ç†æ•°ï¼š

```raku
say  <1/0>.Num;   # OUTPUT: Â«InfÂ» 
say <-1/0>.Num;   # OUTPUT: Â«-InfÂ» 
say  <0/0>.Num;   # OUTPUT: Â«NaNÂ» 
say Inf.Rat.nude; # OUTPUT: Â«(1 0)Â» 
```

è¦æ±‚é link:https://en.wikipedia.org/wiki/IEEE_754[IEEE] é™¤æ³•çš„åˆ†å­å’Œåˆ†æ¯çš„æ‰€æœ‰å…¶ä»–æ“ä½œå°†å¯¼è‡´æŠ›å‡ºå¼‚å¸¸ `X::Numeric::DivideByZero`ã€‚æœ€å¸¸è§çš„æ­¤ç±»æ“ä½œå¯èƒ½æ˜¯å°è¯•æ‰“å°æˆ–å­—ç¬¦ä¸²åŒ–é›¶åˆ†æ¯æœ‰ç†æ•°ï¼š

```raku
say 0/0;
# OUTPUT: 
# Attempt to divide by zero using div 
#  in block <unit> at -e line 1 
```

=== åŒè´¨å¼‚å½¢

link:https://docs.raku.org/language/glossary#index-entry-Allomorph[Allomorphs] æ˜¯ä¸¤ç§ç±»å‹çš„å­ç±»ï¼Œå¯ä»¥è¡¨ç°ä¸ºå®ƒä»¬ä¸­çš„ä»»ä½•ä¸€ç§ã€‚ä¾‹å¦‚ï¼ŒåŒè´¨å¼‚å½¢ link:https://docs.raku.org/type/IntStr[IntStr] æ˜¯ link:https://docs.raku.org/type/Int[Int] å’Œ link:https://docs.raku.org/type/Str[Str] ç±»å‹çš„å­ç±»ï¼Œå¹¶ä¸”å°†è¢«éœ€è¦ link:https://docs.raku.org/type/Int[Int] æˆ– link:https://docs.raku.org/type/Str[Str] å¯¹è±¡çš„ä»»ä½•ç±»å‹çº¦æŸæ‰€æ¥å—ã€‚

åŒè´¨å¼‚å½¢å¯ä»¥ä½¿ç”¨link:https://docs.raku.org/language/quoting#Word_quoting%3A_%3C_%3E[å°–æ‹¬å·]åˆ›å»ºï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨æˆ–ä½œä¸ºæ•£åˆ—é”®æŸ¥æ‰¾çš„ä¸€éƒ¨åˆ†ä½¿ç”¨; ç›´æ¥ä½¿ç”¨æ–¹æ³•`.new`ï¼Œä¹Ÿç”±ä¸€äº›ç»“æ„æä¾›ï¼Œå¦‚ link:https://docs.raku.org/language/functions#sub_MAIN[`sub MAIN`] çš„å‚æ•°ã€‚

```raku
say <42>.^name;                 # OUTPUT: Â«IntStrÂ» 
say <42e0>.^name;               # OUTPUT: Â«NumStrÂ» 
say < 42+42i>.^name;            # OUTPUT: Â«ComplexStrÂ» 
say < 1/2>.^name;               # OUTPUT: Â«RatStrÂ» 
say <0.5>.^name;                # OUTPUT: Â«RatStrÂ» 
 
@*ARGS = "42";
sub MAIN($x) { say $x.^name }   # OUTPUT: Â«IntStrÂ» 
 
say IntStr.new(42, "42").^name; # OUTPUT: Â«IntStrÂ» 
```

ä¸Šé¢çš„å‡ ä¸ªç»“æ„åœ¨æ‰“å¼€è§’æ‹¬å·ä¹‹åæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚é‚£ä¸ªç©ºæ ¼ä¸æ˜¯æ•…æ„çš„ã€‚é€šå¸¸ä½¿ç”¨è¿ç®—ç¬¦ç¼–å†™çš„æ•°å­—ï¼Œä¾‹å¦‚`1/2`ï¼ˆlink:https://docs.raku.org/type/Rat[Rat]ï¼Œé™¤æ³•è¿ç®—ç¬¦ï¼‰å’Œ`1+2i`ï¼ˆlink:https://docs.raku.org/type/Complex[å¤æ•°]ï¼ŒåŠ æ³•ï¼‰å¯ä»¥å†™æˆä¸æ¶‰åŠä½¿ç”¨è¿ç®—ç¬¦çš„å­—é¢å€¼ï¼šåœ¨å°–æ‹¬å·å’Œå°–æ‹¬å·é‡Œé¢çš„å­—ç¬¦ä¹‹é—´*æ²¡æœ‰*ä»»ä½•ç©ºæ ¼ã€‚é€šè¿‡åœ¨å°–æ‹¬å·ä¸­æ·»åŠ ç©ºæ ¼ï¼Œæˆ‘ä»¬å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬ä¸ä»…éœ€è¦ link:https://docs.raku.org/type/Rat[Rat] æˆ– link:https://docs.raku.org/type/Complex[Complex] å­—é¢é‡ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªallomorphï¼šåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ link:https://docs.raku.org/type/RatStr[RatStr] æˆ– link:https://docs.raku.org/type/ComplexStr[ComplexStr]ã€‚

å¦‚æœæ•°å­—å­—é¢é‡ä¸ä½¿ç”¨ä»»ä½•è¿ç®—ç¬¦ï¼Œåˆ™å°†å…¶å†™å…¥å°–æ‹¬å·å†…ï¼Œå³ä½¿ä¸åŒ…å«ä»»ä½•ç©ºæ ¼ï¼Œä¹Ÿä¼šäº§ç”ŸåŒå½¢å¼‚å½¢ä½“ã€‚ï¼ˆé€»è¾‘ï¼šå¦‚æœä½ ä¸æƒ³è¦åŒè´¨å¼‚å½¢ï¼Œä½ å°±ä¸ä¼šä½¿ç”¨å°–æ‹¬å·ã€‚å¯¹äºä½¿ç”¨è¿ç®—ç¬¦çš„æ•°å­—ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºæŸäº›ç»“æ„ï¼Œä¾‹å¦‚ç­¾åå­—é¢é‡ï¼Œä¸å…è®¸ä½ ä½¿ç”¨è¿ç®—ç¬¦ï¼Œæ‰€ä»¥ä½ ä¸èƒ½åªä¸ºè¿™äº›æ•°å­—å­—é¢é‡çœç•¥å°–æ‹¬å·ï¼‰ã€‚

==== å¯ç”¨çš„åŒè´¨å¼‚å½¢

æ ¸å¿ƒè¯­è¨€æä¾›ä»¥ä¸‹åŒè´¨å¼‚å½¢ï¼š

|===
| Type       | Allomorph of    | Example
| IntStr     | Int and Str     | <42>   
| NumStr     | Num and Str     | <42e0> 
| ComplexStr | Complex and Str | < 1+2i>
| RatStr     | Rat and Str     | <1.5>  
|===

æ³¨æ„ï¼šæ²¡æœ‰`FatRatStr`ç±»å‹ã€‚

==== Coercion of allomorphs

è¯·è®°ä½ï¼ŒåŒè´¨å¼‚å½¢åªæ˜¯å®ƒä»¬æ‰€ä»£è¡¨çš„ä¸¤ç§ï¼ˆæˆ–ä¸‰ç§ï¼‰ç±»å‹çš„å­ç±»ã€‚æ­£å¦‚å˜é‡æˆ–å‚æ•°ç±»å‹çº¦æŸä¸º`Foo`å¯ä»¥æ¥å—ä»»ä½• `Foo` å­ç±»ä¸€æ ·ï¼Œæ‰€ä»¥å˜é‡æˆ–å‚æ•°ç±»å‹çº¦æŸä¸º link:https://docs.raku.org/type/Int[Int] çš„å°†æ¥å— link:https://docs.raku.org/type/IntStr[IntStr] åŒè´¨å¼‚å½¢ï¼š

```raku
sub foo(Int $x) { say $x.^name }
foo <42>;                          # OUTPUT: Â«IntStrÂ» 
my Num $y = <42e0>;
say $y.^name;                      # OUTPUT: Â«NumStrÂ» 
```

å½“ç„¶ï¼Œè¿™ä¹Ÿé€‚ç”¨äºå‚æ•°link:https://docs.raku.org/type/Signature#Coercion_type[coercers]ï¼š

```raku
sub foo(Int(Cool) $x) { say $x.^name }
foo <42>;  # OUTPUT: Â«IntStrÂ» 
```

ç»™å®šçš„åŒè´¨å¼‚å½¢*å·²ç»*æ˜¯ link:https://docs.raku.org/type/Int[Int] ç±»å‹çš„å¯¹è±¡ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹å®ƒä¸ä¼šè½¬æ¢ä¸ºâ€œæ™®é€šçš„â€  link:https://docs.raku.org/type/Int[Int]ã€‚

å½“ç„¶ï¼Œå¦‚æœæ²¡æœ‰åŠæ³•å°†å®ƒä»¬â€œæŠ˜å â€åˆ°å…¶ä¸­ä¸€ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆåŒè´¨å¼‚å½¢ä½“çš„åŠ›é‡å°†ä¼šä¸¥é‡å‡å¼±ã€‚å› æ­¤ï¼Œå¦‚æœä½ ä½¿ç”¨æ‰€è¦å¼ºåˆ¶åˆ°çš„ç±»å‹çš„åå­—æ˜¾å¼è°ƒç”¨æ–¹æ³•ï¼Œé‚£ä¹ˆæ‚¨å°†è·å¾—è¯¥ç»„ä»¶ã€‚è¿™åŒæ ·é€‚ç”¨äºä»»ä½•ä»£ç†æ–¹æ³•ï¼Œä¾‹å¦‚è°ƒç”¨æ–¹æ³•link:https://docs.raku.org/routine/Numeric[`.Numeric`]è€Œä¸æ˜¯link:https://docs.raku.org/routine/Int[`.Int`]æˆ–ä½¿ç”¨link:https://docs.raku.org/routine/~[`prefix:<~> `]è¿ç®—ç¬¦è€Œä¸æ˜¯link:https://docs.raku.org/routine/Str[`.Str`]æ–¹æ³•è°ƒç”¨ã€‚

```raku
my $al := IntStr.new: 42, "forty two";
say $al.Str;  # OUTPUT: Â«forty twoÂ» 
say +$al;     # OUTPUT: Â«42Â» 
 
say <1/99999999999999999999>.Rat.^name;    # OUTPUT: Â«RatÂ» 
say <1/99999999999999999999>.FatRat.^name; # OUTPUT: Â«FatRatÂ» 
```

å¼ºåˆ¶æ•´ä¸ªåŒè´¨å¼‚å½¢ä½“åˆ—è¡¨çš„ä¸€ç§æ–¹ä¾¿æ–¹æ³•æ˜¯å°† link:https://docs.raku.org/language/operators#Hyper_operators[hyper] è¿ç®—ç¬¦åº”ç”¨äºé€‚å½“çš„å‰ç¼€ï¼š

```raku
say map *.^name,   <42 50e0 100>;  # OUTPUT: Â«(IntStr NumStr IntStr)Â» 
say map *.^name, +Â«<42 50e0 100>;  # OUTPUT: Â«(Int Num Int)Â» 
say map *.^name, ~Â«<42 50e0 100>;  # OUTPUT: Â«(Str Str Str)Â» 
```

==== Object identity

å½“æˆ‘ä»¬è€ƒè™‘å¯¹è±¡ä¸€è‡´æ€§æ—¶ï¼Œä¸Šé¢å…³äºå¼ºåˆ¶åŒå½¢å¼‚å½¢çš„è®¨è®ºå˜å¾—æ›´åŠ é‡è¦ã€‚ä¸€äº›æ„é€ åˆ©ç”¨å®ƒæ¥ç¡®å®šä¸¤ä¸ªå¯¹è±¡æ˜¯å¦â€œç›¸åŒâ€ã€‚è€Œå¯¹äºäººç±»è€Œè¨€ï¼ŒåŒè´¨å¼‚å½¢`42`å’Œå¸¸è§„çš„`42`å¯èƒ½çœ‹èµ·æ¥â€œç›¸åŒâ€ï¼Œå¯¹äºé‚£äº›æ„é€ ï¼Œå®ƒä»¬æ˜¯å®Œå…¨ä¸åŒçš„å¯¹è±¡ï¼š

```raku
# "42" shows up twice in the result: 42 and <42> are different objects: 
say unique 1, 1, 1, 42, <42>; # OUTPUT: Â«(1 42 42)Â» 
# Use a different operator to `unique` with: 
say unique :with(&[==]), 1, 1, 1, 42, <42>; # OUTPUT: Â«(1 42)Â» 
# Or coerce the input instead (faster than using a different `unique` operator): 
say unique :as(*.Int), 1, 1, 1, 42, <42>; # OUTPUT: Â«(1 42)Â» 
say unique +Â«(1, 1, 1, 42, <42>);         # OUTPUT: Â«(1 42)Â» 
 
# Parameterized Hash with `Any` keys does not stringify them; our key is of type `Int`: 
my %h{Any} = 42 => "foo";
# But we use the allomorphic key of type `IntStr`, which is not in the Hash: 
say %h<42>:exists;           # OUTPUT: Â«FalseÂ» 
# Must use curly braces to avoid the allomorph: 
say %h{42}:exists;           # OUTPUT: Â«TrueÂ» 
 
# We are using a set operator to look up an `Int` object in a list of `IntStr` objects: 
say 42 âˆˆ <42 100 200>; # OUTPUT: Â«FalseÂ» 
# Convert it to an allomorph: 
say <42> âˆˆ <42 100 200>; # OUTPUT: Â«TrueÂ» 
# Or convert the items in the list to plain `Int` objects: 
say 42 âˆˆ +Â«<42 100 200>; # OUTPUT: Â«TrueÂ» 
```

æ³¨æ„è¿™äº›å¯¹è±¡ä¸€è‡´æ€§çš„å·®å¼‚ï¼Œå¹¶æ ¹æ®éœ€è¦å¼ºåˆ¶ä½ çš„åŒå½¢å¼‚å½¢ä½“ã€‚

=== åŸç”Ÿæ•°å­—

é¡¾åæ€ä¹‰ï¼ŒåŸç”Ÿæ•°å­—å¯ä»¥è®¿é—®åŸç”Ÿæ•°å­— - å³ç”±ç¡¬ä»¶ç›´æ¥æä¾›çš„æ•°å­—ã€‚è¿™åè¿‡æ¥åˆæä¾›ä¸¤ä¸ªåŠŸèƒ½ï¼šæº¢å‡º/ä¸‹æº¢å’Œæ›´å¥½çš„æ€§èƒ½ã€‚

**æ³¨æ„ï¼š**åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ˆ2018.05ï¼‰ï¼ŒæŸäº›å®ç°ï¼ˆä¾‹å¦‚ Rakudoï¼‰æä¾›äº†æœ‰å…³åŸç”Ÿç±»å‹çš„ä¸€äº›ç»†èŠ‚ï¼Œä¾‹å¦‚  `int64` æ˜¯å¦å¯ç”¨ä¸”åœ¨32ä½è®¡ç®—æœºä¸Šå…·æœ‰64ä½å¤§å°ï¼Œä»¥åŠå¦‚ä½•æ£€æµ‹ä½•æ—¶ä½ çš„ç¨‹åºæ­£åœ¨è¿™æ ·çš„ç¡¬ä»¶ä¸Šè¿è¡Œã€‚

==== å¯ç”¨çš„åŸç”Ÿæ•°å­—

|===
| Native type | Base numeric     | Size                                                         
| atomicint   | integer          | sized to offer CPU-provided atomic operations. (typically 64 bits on 64-bit platforms and 32 bits on 32-bit ones)
| int         | integer          | 64-bits                                                      
| int16       | integer          | 16-bits                                                      
| int32       | integer          | 32-bits                                                      
| int64       | integer          | 64-bits                                                      
| int8        | integer          | 8-bits                                                       
| num         | floating point   | 64-bits                                                      
| num32       | floating point   | 32-bits                                                      
| num64       | floating point   | 64-bits                                                      
| uint        | unsigned integer | 64-bits                                                      
| uint16      | unsigned integer | 16-bits                                                      
| uint32      | unsigned integer | 32-bits                                                      
| uint64      | unsigned integer | 64-bits                                                      
| uint8       | unsigned integer | 8-bits                                                       
|===

==== åˆ›å»ºåŸç”Ÿæ•°å­—

è¦åˆ›å»ºåŸç”Ÿç±»å‹çš„å˜é‡æˆ–å‚æ•°ï¼Œåªéœ€ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªå¯ç”¨æ•°å­—çš„åç§°ä½œä¸ºç±»å‹çº¦æŸï¼š

```raku
my int32 $x = 42;
sub foo(num $y) {}
class { has int8 $.z }
```

æœ‰æ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›åœ¨ä¸åˆ›å»ºä»»ä½•å¯ç”¨å˜é‡çš„æƒ…å†µä¸‹å°†æŸäº›å€¼å¼ºåˆ¶è½¬æ¢ä¸ºåŸç”Ÿç±»å‹ã€‚æ²¡æœ‰`.int`æˆ–ç±»ä¼¼çš„å¼ºåˆ¶æ–¹æ³•ï¼ˆæ–¹æ³•è°ƒç”¨æ˜¯åæœŸçš„ï¼Œæ‰€ä»¥å®ƒä»¬ä¸é€‚åˆè¿™ä¸ªç›®çš„ï¼‰ã€‚ç›¸åï¼Œåªéœ€ä½¿ç”¨åŒ¿åå˜é‡ï¼š

```raku
some-native-taking-sub (my int $ = $y), (my int32 $ = $z)
```

==== æº¢å‡º/ä¸‹æº¢

å°è¯•**åˆ†é…**ä¸é€‚åˆç‰¹å®šåŸç”Ÿç±»å‹çš„å€¼ä¼šäº§ç”Ÿå¼‚å¸¸ã€‚è¿™åŒ…æ‹¬å°è¯•ä¸ºåŸç”Ÿå‚æ•°æä¾›è¿‡å¤§çš„å‚æ•°ï¼š

```raku
my int $x = 2Â¹â°â°;
# OUTPUT: 
# Cannot unbox 101 bit wide bigint into native integer 
#  in block <unit> at -e line 1 
 
sub f(int $x) { $x }; say f 2â¶â´
# OUTPUT: 
# Cannot unbox 65 bit wide bigint into native integer 
#   in sub f at -e line 1 
#   in block <unit> at -e line 1 
```

ä½†æ˜¯ï¼Œä»¥è¿™æ ·ä¸€ç§å¤ªå¤§/å¤ªå°çš„æ–¹å¼ä¿®æ”¹å·²å­˜åœ¨çš„å€¼ä¼šäº§ç”Ÿæº¢å‡º/ä¸‹æº¢è¡Œä¸ºï¼š

```raku
my int $x = 2â¶Â³-1;
say $x;             # OUTPUT: Â«9223372036854775807Â» 
say ++$x;           # OUTPUT: Â«-9223372036854775808Â» 
 
my uint8 $x;
say $x;             # OUTPUT: Â«0Â» 
say $x -= 100;      # OUTPUT: Â«156Â» 
```

åˆ›å»ºä½¿ç”¨åŸç”Ÿç±»å‹çš„å¯¹è±¡ä¸æ¶‰åŠç¨‹åºå‘˜çš„ç›´æ¥åˆ†é…; è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™äº›æ„é€ æä¾›æº¢å‡º/ä¸‹æº¢è¡Œä¸ºè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚

```raku
say Buf.new(1000, 2000, 3000).List; # OUTPUT: Â«(232 208 184)Â» 
say my uint8 @a = 1000, 2000, 3000; # OUTPUT: Â«232 208 184Â» 
```

==== Auto-boxing

è™½ç„¶å®ƒä»¬å¯ä»¥è¢«ç§°ä¸ºâ€œ*åŸç”Ÿç±»å‹* â€ï¼Œä½†åŸç”Ÿæ•°å­—å®é™…ä¸Šå¹¶ä¸æ˜¯å…·æœ‰ä»»ä½•å¯ç”¨æ–¹æ³•çš„ç±»ã€‚ä½†æ˜¯ï¼Œæ‚¨*å¯ä»¥*è°ƒç”¨è¿™äº›æ•°å­—çš„éåŸç”Ÿç‰ˆæœ¬ä¸Šå¯ç”¨çš„ä»»ä½•æ–¹æ³•ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ

```raku
my int8 $x = -42;
say $x.abs; # OUTPUT: Â«42Â» 
```

æ­¤è¡Œä¸ºç§°ä¸ºâ€œè‡ªåŠ¨è£…ç®±â€ã€‚ç¼–è¯‘å™¨ä½¿ç”¨æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨å°†åŸç”Ÿç±»å‹â€œè£…ç®±â€ä¸ºåŠŸèƒ½é½å…¨çš„é«˜çº§ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œ`int8`ä¸Šé¢çš„å†…å®¹è‡ªåŠ¨è½¬æ¢ä¸ºlink:https://docs.raku.org/type/Int[Intï¼Œ]ç„¶åå®ƒæ˜¯link:https://docs.raku.org/type/Int[Int]ç±»ï¼Œç„¶åæä¾›è¢«è°ƒç”¨çš„link:https://docs.raku.org/routine/abs[abs]æ–¹æ³•ã€‚

å½“æ‚¨ä½¿ç”¨åŸç”Ÿç±»å‹è·å¾—æ€§èƒ½æå‡æ—¶ï¼Œæ­¤è¯¦ç»†ä¿¡æ¯éå¸¸é‡è¦ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨çš„ä»£ç å¯¼è‡´æ‰§è¡Œå¤§é‡è‡ªåŠ¨è£…ç®±ï¼Œé‚£ä¹ˆä½¿ç”¨åŸç”Ÿç±»å‹çš„æ€§èƒ½å¯èƒ½ä¼šæ¯”ä½¿ç”¨éåŸç”Ÿç±»å‹æ—¶*æ›´å·®*ï¼š

```raku
my $a = -42;
my int $a-native = -42;
{ for ^1000_000 { $a.abs        }; say now - ENTER now } # OUTPUT: Â«0.38180862Â» 
{ for ^1000_000 { $a-native.abs }; say now - ENTER now } # OUTPUT: Â«0.938720Â» 
```

å¦‚æ‚¨æ‰€è§ï¼ŒåŸç”Ÿå˜ä½“çš„é€Ÿåº¦æ…¢äº†ä¸¤å€å¤šã€‚åŸå› æ˜¯æ–¹æ³•è°ƒç”¨éœ€è¦å°†åŸç”Ÿç±»å‹è£…ç®±ï¼Œè€ŒéåŸç”Ÿå˜ä½“ä¸éœ€è¦è¿™æ ·çš„ä¸œè¥¿ï¼Œå› æ­¤æ€§èƒ½æŸå¤±ã€‚

åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åˆ‡æ¢åˆ°link:https://docs.raku.org/routine/abs[abs]çš„å­ç¨‹åºå½¢å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨åŸç”Ÿç±»å‹è€Œæ— éœ€è£…ç®±ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦å¯»æ‰¾å…¶ä»–è§£å†³æ–¹æ¡ˆä»¥é¿å…è¿‡å¤šçš„è‡ªåŠ¨è£…ç®±ï¼ŒåŒ…æ‹¬åˆ‡æ¢åˆ°éƒ¨åˆ†ä»£ç çš„éåŸç”Ÿç±»å‹ã€‚

```raku
my $a = -42;
my int $a-native = -42;
{ for ^1000_000 { abs $a        }; say now - ENTER now } # OUTPUT: Â«0.38229177Â» 
{ for ^1000_000 { abs $a-native }; say now - ENTER now } # OUTPUT: Â«0.3088305Â» 
```

==== é»˜è®¤å€¼

ç”±äºåŸç”Ÿç±»å‹åé¢æ²¡æœ‰ç±»ï¼Œå› æ­¤é€šå¸¸æ²¡æœ‰ä½¿ç”¨å°šæœªåˆå§‹åŒ–çš„å˜é‡è·å¾—çš„ç±»å‹å¯¹è±¡ã€‚å› æ­¤ï¼ŒåŸç”Ÿç±»å‹è‡ªåŠ¨åˆå§‹åŒ–ä¸ºé›¶ã€‚åœ¨6.cè¯­è¨€ï¼ŒåŸç”Ÿçš„æµ®ç‚¹ç±»å‹ï¼ˆ`num`ï¼Œ`num32`ï¼Œå’Œ`num64`ï¼‰è¢«åˆå§‹åŒ–ä¸ºå€¼ `NaN`; åœ¨ 6.d è¯­è¨€ä¸­é»˜è®¤ä¸º `0e0`ã€‚

==== åŸç”Ÿåˆ†æ´¾

ä¾‹å¦‚ï¼Œå½“å¤§å°å¯é¢„æµ‹æ—¶ï¼Œå¯ä»¥ä½¿åŸç”Ÿå€™é€‰è€…ä¸éåŸç”Ÿå€™é€‰è€…ä¸€èµ·æä¾›å…·æœ‰åŸç”Ÿå€™é€‰è€…çš„æ›´å¿«ç®—æ³•ï¼Œä½†æ˜¯å¦åˆ™å›é€€åˆ°è¾ƒæ…¢çš„éåŸç”Ÿå€™é€‰è€…ã€‚ä»¥ä¸‹æ˜¯æ¶‰åŠåŸç”Ÿå€™é€‰äººçš„å¤šé‡åˆ†æ´¾çš„è§„åˆ™ã€‚

é¦–å…ˆï¼ŒåŸç”Ÿç±»å‹çš„å¤§å°åœ¨åˆ†æ´¾ä¸­ä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”`int8`è¢«è®¤ä¸ºä¸`int16`æˆ–`int` ä¾‹å¦‚ï¼Œå½“å¤§å°å¯é¢„æµ‹æ—¶ï¼Œå¯ä»¥ä½¿æœ¬åœ°å€™é€‰è€…ä¸éæœ¬åœ°å€™é€‰è€…ä¸€èµ·æä¾›å…·æœ‰æœ¬åœ°å€™é€‰è€…çš„æ›´å¿«ç®—æ³•ï¼Œä½†æ˜¯å¦åˆ™å›é€€åˆ°è¾ƒæ…¢çš„éæœ¬åœ°å€™é€‰è€…ã€‚ä»¥ä¸‹æ˜¯æ¶‰åŠæœ¬åœ°å€™é€‰äººçš„å¤šæ¬¡æ´¾é£çš„è§„åˆ™ã€‚

é¦–å…ˆï¼ŒåŸç”Ÿç±»å‹çš„å¤§å°åœ¨è°ƒåº¦ä¸­ä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”`int8`è¢«è®¤ä¸ºä¸`int16`æˆ–`int` ç›¸åŒï¼š

```raku
multi foo(int   $x) { say "int" }
multi foo(int32 $x) { say "int32" }
foo my int $x = 42;
# OUTPUT: 
# Ambiguous call to 'foo(Int)'; these signatures all match: 
# :(int $x) 
# :(int32 $x) 
```

å…¶æ¬¡ï¼Œå¦‚æœä¾‹ç¨‹æ˜¯ä¸€ä¸ª `only`-ieï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªlink:https://docs.raku.org/language/functions#Multi-dispatch[`multi`]éåŸç”Ÿç±»å‹ï¼Œè€Œæ˜¯åœ¨è°ƒç”¨æœŸé—´ç»™å‡ºä¸€ä¸ªåŸç”Ÿç±»å‹ï¼Œåä¹‹äº¦ç„¶ï¼Œé‚£ä¹ˆå‚æ•°å°†è¢«è‡ªåŠ¨è£…ç®±æˆ–è‡ªåŠ¨å–æ¶ˆè£…ç®±ä»¥ä½¿å¯ä»¥è¢«è°ƒç”¨ã€‚å¦‚æœç»™å®šçš„å‚æ•°å¤ªå¤§è€Œæ— æ³•æ”¾å…¥nativeå‚æ•°ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š

```raku
-> int {}( 42 );            # OK; auto-unboxing 
-> int {}( 2Â¹â°â° );          # Too large; exception 
-> Int {}( 2Â¹â°â° );          # OK; non-native parameter 
-> Int {}( my int $ = 42 ); # OK; auto-boxing 
```

å½“æ¶‰åŠåˆ°link:https://docs.raku.org/language/functions#Multi-dispatch[`multi`]ä¾‹ç¨‹æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨çš„åŸç”Ÿå€™é€‰è€…ï¼Œåˆ™åŸç”Ÿå‚æ•°å°†å§‹ç»ˆè‡ªåŠ¨è£…ç®±ï¼š

```raku
multi foo (Int $x) { $x }
say foo my int $ = 42; # OUTPUT: Â«42Â» 
```

å¦ä¸€ç§æ–¹å¼æ˜¯ä¸èƒ½æä¾›ç›¸åŒçš„ luxuryã€‚å¦‚æœåªæœ‰åŸç”Ÿå€™é€‰è€…å¯ç”¨ï¼Œåˆ™éåŸç”Ÿå‚æ•°å°†*ä¸ä¼š*è¢«è‡ªåŠ¨å–æ¶ˆè£…ç®±ï¼Œè€Œæ˜¯æŒ‡ç¤ºä¸ä¼šæŠ›å‡ºåŒ¹é…çš„å€™é€‰è€…çš„å¼‚å¸¸ï¼ˆè¿™ç§ä¸å¯¹ç§°çš„åŸå› æ˜¯åŸç”Ÿç±»å‹æ€»æ˜¯å¯ä»¥è£…ç®±ï¼Œä½†æ˜¯éåŸç”Ÿçš„å¯èƒ½å¤ªå¤§è€Œæ— æ³•èå…¥åŸç”Ÿï¼‰ï¼š

```raku
multi f(int $x) { $x }
my $x = 2;
say f $x;
# OUTPUT: 
# Cannot resolve caller f(Int); none of these signatures match: 
#     (int $x) 
#   in block <unit> at -e line 1 
```

ä½†æ˜¯ï¼Œå¦‚æœæ­£åœ¨è¿›è¡Œè°ƒç”¨ï¼Œå…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯åŸç”Ÿç±»å‹è€Œå¦ä¸€ä¸ªæ˜¯link:https://docs.raku.org/language/syntax#Number_literals[æ•°å­—å­—é¢é‡]ï¼Œåˆ™æ”¾å¼ƒæ­¤è§„åˆ™ï¼š

```raku
multi f(int, int) {}
f 42, my int $x; # Successful call 
```

è¿™æ ·ï¼Œæ‚¨å°±ä¸å¿…ä¸æ–­å°†è¯¸å¦‚ `$n +> 2` å†™ä¸º `$n +> (my int $ = 2)` äº†ã€‚ç¼–è¯‘å™¨çŸ¥é“å­—é¢é‡å°åˆ°è¶³ä»¥é€‚åˆåŸç”Ÿç±»å‹å¹¶å°†å…¶è½¬æ¢ä¸ºåŸç”Ÿç±»å‹ã€‚

==== åŸå­æ“ä½œ

è¯¥è¯­è¨€æä¾›äº†ä¸€äº›ä¿è¯ä»¥åŸå­æ–¹å¼æ‰§è¡Œçš„link:https://docs.raku.org/type/atomicint[æ“ä½œ]ï¼Œå³å®‰å…¨åœ°ç”±å¤šä¸ªçº¿ç¨‹æ‰§è¡Œè€Œæ— éœ€é”å®šè€Œæ²¡æœ‰æ•°æ®äº‰ç”¨çš„é£é™©ã€‚

å¯¹äºæ­¤ç±»æ“ä½œï¼Œéœ€è¦link:https://docs.raku.org/type/atomicint[atomicint]åŸç”Ÿç±»å‹ã€‚æ­¤ç±»å‹ä¸æ™®é€šåŸç”Ÿlink:https://docs.raku.org/type/int[int]ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒçš„å¤§å°ä½¿å¾—å¯ä»¥å¯¹å…¶æ‰§è¡ŒCPUæä¾›çš„åŸå­æ“ä½œã€‚åœ¨32ä½CPUä¸Šï¼Œå®ƒé€šå¸¸æ˜¯32ä½å¤§å°ï¼Œè€Œåœ¨64ä½CPUä¸Šï¼Œå®ƒé€šå¸¸æ˜¯64ä½å¤§å°ã€‚

```raku
# !!WRONG!! Might be non-atomic on some systems 
my int $x;
await ^100 .map: { start $xâš›++ };
say $x; # OUTPUT: Â«98Â» 
 
# RIGHT! The use of `atomicint` type guarantees operation is atomic 
my atomicint $x;
await ^100 .map: { start $xâš›++ };
say $x; # OUTPUT: Â«100Â» 
```

ç›¸ä¼¼æ€§`int`ä¹Ÿå­˜åœ¨äºå¤šé‡åˆ†æ´¾ä¸­ï¼š `atomicint`ï¼Œæ™®é€šçš„ `int`å’Œå›ºå®šå¤§å°çš„`int`å˜é‡éƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”ä¸èƒ½é€šè¿‡å¤šé‡åˆ†æ´¾æ¥åŒºåˆ†ã€‚

=== Numeric infectiousness

å½“ä¸€äº›æ•°å­¦è¿ç®—ä¸­æ¶‰åŠä¸¤ä¸ªä¸åŒç±»å‹çš„æ•°å­—æ—¶ï¼Œæ•°å­—â€œä¼ é€’æ€§â€å†³å®šäº†ç»“æœç±»å‹ã€‚å¦‚æœç»“æœæ˜¯è¯¥ç±»å‹è€Œä¸æ˜¯å…¶ä»–æ“ä½œæ•°çš„ç±»å‹ï¼Œåˆ™è®¤ä¸ºç±»å‹æ¯”å…¶ä»–ç±»å‹æ›´å…·ä¼ é€’æ€§ã€‚ä¾‹å¦‚ï¼Œlink:https://docs.raku.org/type/Num[Num]ç±»å‹æ¯”link:https://docs.raku.org/type/Int[Int]æ›´å…·ä¼ é€’æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æœŸæœ›`42e0 + 42`äº§ç”Ÿlink:https://docs.raku.org/type/Num[Num]ä½œä¸ºç»“æœã€‚

ä¼ é€’æ€§å¦‚ä¸‹ï¼Œé¦–å…ˆåˆ—å‡ºæœ€å…·ä¼ é€’æ€§çš„ç±»å‹

- Complex
- Num
- FatRat
- Rat
- Int

```raku
say (2 + 2e0).^name; # Int + Num => OUTPUT: Â«NumÂ» 
say (Â½ + Â½).^name; # Rat + Rat => OUTPUT: Â«RatÂ» 
say (FatRat.new(1,2) + Â½).^name; # FatRat + Rat => OUTPUT: Â«FatRatÂ» 
```

åŒè´¨å¼‚å½¢ä½“å…·æœ‰ä¸å…¶æ•°å­—æˆåˆ†ç›¸åŒçš„ä¼ é€’æ€§ã€‚åŸç”Ÿç±»å‹è·å¾—è‡ªåŠ¨è£…ç®±ï¼Œå¹¶å…·æœ‰ä¸å…¶ç›’è£…å˜ä½“ç›¸åŒçš„ä¼ é€’æ€§ã€‚

